{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Bogdan\\\\Desktop\\\\Task 3 React\\\\my-app \\u2014 \\u043A\\u043E\\u043F\\u0438\\u044F\\\\src\\\\components\\\\SignForm\\\\SignIn.jsx\";\nimport React, { useRef, useEffect } from 'react';\nimport { useAlert } from 'react-alert';\nimport PropTypes from 'prop-types';\nimport { ENGLISH } from '../../actions/languageActions';\nimport { WRONG_PASSWORD } from '../../actions/signFormControllerActions';\nimport Spiner from '../Spiner';\n\nconst SignIn = props => {\n  const {\n    language,\n    proxy,\n    signIn: propsSignIn,\n    isFetching,\n    signStatus,\n    backToGuest\n  } = props;\n  const email = useRef(null);\n  const password = useRef(null);\n  const alert = useAlert();\n\n  function signIn(e) {\n    e.preventDefault();\n\n    if (checkAllFields()) {\n      propsSignIn(proxy + `/login?email=${email.current.value}&password=${password.current.value}`);\n    }\n  }\n\n  function checkAllFields() {\n    if (email.current.value.length === 0 || password.current.value.length === 0) {\n      alert.info( /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 24\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 29\n        }\n      }, language === 'eng' ? 'Info' : 'Інфо'), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"alert-text text-nowrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 102\n        }\n      }, language === 'eng' ? 'Fill in all fields' : 'Заповніть всі поля')));\n      return false;\n    }\n\n    return true;\n  }\n\n  useEffect(() => {\n    if (signStatus === WRONG_PASSWORD) {\n      alert.error( /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 30\n        }\n      }, language === 'eng' ? 'Error' : 'Помилка'), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"alert-text text-nowrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 107\n        }\n      }, language === 'eng' ? 'Incorrect email or password' : \"Неправильний емайл або пароль\")));\n      backToGuest();\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: signIn,\n    className: \"form sign-in\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, language === ENGLISH ? 'Welcome back' : 'З поверненням'), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 17\n    }\n  }, language === ENGLISH ? 'Email' : 'Емейл'), /*#__PURE__*/React.createElement(\"input\", {\n    ref: email,\n    type: \"text\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, language === ENGLISH ? 'Password' : 'Пароль'), /*#__PURE__*/React.createElement(\"input\", {\n    ref: password,\n    type: \"password\",\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: isFetching,\n    type: \"submit\",\n    className: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, isFetching ? /*#__PURE__*/React.createElement(Spiner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 92\n    }\n  }) : language === ENGLISH ? 'Sign In' : 'Автентифікація'));\n};\n\nSignIn.propTypes = {\n  language: PropTypes.string.isRequired,\n  signIn: PropTypes.func.isRequired,\n  proxy: PropTypes.string.isRequired,\n  isFetching: PropTypes.bool.isRequired\n};\nexport default SignIn;","map":{"version":3,"sources":["C:/Users/Bogdan/Desktop/Task 3 React/my-app — копия/src/components/SignForm/SignIn.jsx"],"names":["React","useRef","useEffect","useAlert","PropTypes","ENGLISH","WRONG_PASSWORD","Spiner","SignIn","props","language","proxy","signIn","propsSignIn","isFetching","signStatus","backToGuest","email","password","alert","e","preventDefault","checkAllFields","current","value","length","info","error","propTypes","string","isRequired","func","bool"],"mappings":"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","sourcesContent":["import React, { useRef, useEffect }  from 'react';\r\nimport { useAlert } from 'react-alert';\r\nimport PropTypes from 'prop-types';\r\nimport {ENGLISH} from '../../actions/languageActions';\r\nimport {WRONG_PASSWORD } from '../../actions/signFormControllerActions';\r\nimport Spiner from '../Spiner';\r\nconst SignIn = (props) => {\r\n    const { language, proxy, signIn: propsSignIn, isFetching,signStatus,backToGuest } = props;\r\n    const email = useRef(null);\r\n    const password = useRef(null);\r\n    const alert = useAlert();\r\n    function signIn(e) {\r\n        e.preventDefault();\r\n        if(checkAllFields()){\r\n            propsSignIn(proxy+`/login?email=${email.current.value}&password=${password.current.value}`);\r\n        }\r\n    }\r\n    function checkAllFields() {\r\n        if(email.current.value.length === 0 || password.current.value.length === 0){\r\n            alert.info(<div><div className='alert-title'>{language === 'eng' ? 'Info' : 'Інфо'}</div><p className='alert-text text-nowrap'>{language === 'eng' ? 'Fill in all fields' : 'Заповніть всі поля'}</p></div>);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    useEffect(()=>{\r\n        if(signStatus === WRONG_PASSWORD){\r\n            alert.error(<div><div className='alert-title'>{language === 'eng' ? 'Error' : 'Помилка'}</div><p className='alert-text text-nowrap'>{language === 'eng' ? 'Incorrect email or password' : \"Неправильний емайл або пароль\"}</p></div>);\r\n            backToGuest();\r\n        }\r\n    })\r\n    return (\r\n        <form onSubmit={signIn} className=\"form sign-in\">\r\n            <h2>{language === ENGLISH ? 'Welcome back' : 'З поверненням'}</h2>\r\n            <label>\r\n                <span>{language === ENGLISH ? 'Email' : 'Емейл'}</span>\r\n                <input ref={email} type=\"text\" required />\r\n            </label>\r\n            <label>\r\n                <span>{language === ENGLISH ? 'Password' : 'Пароль'}</span>\r\n                <input ref={password} type=\"password\" required />\r\n            </label>\r\n            <button  disabled={isFetching}  type=\"submit\" className=\"submit\">{isFetching ? <Spiner/> : language === ENGLISH ? 'Sign In' : 'Автентифікація'}</button>\r\n        </form>\r\n    )\r\n}\r\nSignIn.propTypes = {\r\n    language: PropTypes.string.isRequired,\r\n    signIn: PropTypes.func.isRequired,\r\n    proxy: PropTypes.string.isRequired,\r\n    isFetching: PropTypes.bool.isRequired,\r\n}\r\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}